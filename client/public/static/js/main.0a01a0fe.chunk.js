(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{108:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),s=a(27),r=a.n(s),c=(a(44),a(5)),o=a(6),i=a(8),m=a(7),d=a(9),u=a(110),h=a(37),p=a(28),g=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"navbar-fixed"},l.a.createElement("nav",{className:"z-depth-0"},l.a.createElement("div",{className:"nav-wrapper white"},l.a.createElement(p.a,{to:"/",style:{fontFamily:"monospace"},className:"col s5 brand-logo center black-text"},l.a.createElement("i",{className:"material-icons"},"code"),"DCODER"))))}}]),t}(n.Component),b=a(109),E=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{style:{height:"75vh"},className:"container valign-wrapper"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col s12 center-align"},l.a.createElement("h4",null,"A ",l.a.createElement("b",null,"Full Stack Application")," designed using "," ",l.a.createElement("span",{style:{fontFamily:"monospace"}},"MERN")),l.a.createElement("p",{className:"flow-text grey-text text-darken-1"},"The Application that displays thread created by the user"),l.a.createElement("br",null),l.a.createElement(b.a,{to:"/register",style:{width:"150px",borderRadius:"3px",letterSpacing:"1.5px"},className:"btn btn-large waves-effect waves-light hoverable blue accent-3"},"Register"),l.a.createElement(b.a,{to:"/login",style:{marginLeft:"2rem",width:"150px",borderradius:"3px",letterSpacing:"1.5px"},className:"btn btn-large waves-effect white hoverable black-text"},"Log In"))))}}]),t}(n.Component),v=a(22),f=a(3),O=a(14),y=a.n(O),w=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).onChange=function(t){e.setState(Object(v.a)({},t.target.id,t.target.value))},e.onSubmit=function(t){t.preventDefault();var a={email:e.state.email,password:e.state.password};console.log(a)},e.state={email:"",password:"",errors:{}},e.onClick=e.onClick.bind(Object(f.a)(Object(f.a)(e))),e.logInData=e.logInData.bind(Object(f.a)(Object(f.a)(e))),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"onClick",value:function(){var e=this;this.logInData(this).then(function(t){console.log(t.data.token),localStorage.setItem("email",e.state.email),e.props.history.push("/activeThreads",{email:e.state.email})}).catch(function(e){console.log("err",e),alert("Login Failed")})}},{key:"logInData",value:function(e){return console.log(e.state.email,e.state.password),y()({method:"post",url:"https://displaythreads.herokuapp.com/api/users/login",data:{email:e.state.email,password:e.state.password}})}},{key:"render",value:function(){var e=this.state.errors;return l.a.createElement("div",{className:"container"},l.a.createElement("div",{style:{marginTop:"4rem"},className:"row"},l.a.createElement("div",{className:"col s8 offset-s2"},l.a.createElement(p.a,{to:"/",className:"btn-flat waves-effect"},l.a.createElement("i",{className:"material-icons left"},"keyboard_backspace")," Back to home"),l.a.createElement("div",{className:"col s12",style:{paddingLeft:"11.250px"}},l.a.createElement("h4",null,l.a.createElement("b",null,"Login")," below"),l.a.createElement("p",{className:"grey-text text-darken-1"},"Don't have an account? ",l.a.createElement(p.a,{to:"/register"},"Register"))),l.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("input",{onChange:this.onChange,value:this.state.email,error:e.email,id:"email",type:"email"}),l.a.createElement("label",{htmlFor:"email"},"Email")),l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("input",{onChange:this.onChange,value:this.state.password,error:e.password,id:"password",type:"password"}),l.a.createElement("label",{htmlFor:"password"},"Password")),l.a.createElement("div",{className:"col s12",style:{paddingLeft:"11.250px"}},l.a.createElement("button",{onClick:this.onClick,style:{width:"150px",borderRadius:"3px",letterSpacing:"1.5px",marginTop:"1rem"},type:"submit",className:"btn btn-large waves-effect waves-light hoverable blue accent-3"},"Login"))))))}}]),t}(n.Component),j=(a(67),function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).onChange=function(t){e.setState(Object(v.a)({},t.target.id,t.target.value))},e.onSubmit=function(t){t.preventDefault();e.state.name,e.state.email,e.state.password,e.state.password2;console.log("newUser")},e.state={name:"",email:"",password:"",password2:"",errors:{}},e.onClick=e.onClick.bind(Object(f.a)(Object(f.a)(e))),e.insertSignInData=e.insertSignInData.bind(Object(f.a)(Object(f.a)(e))),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"onClick",value:function(e){var t=this;this.insertSignInData(this).then(function(e){alert("Registration Successfully"),localStorage.setItem("email",t.state.email),t.props.history.push("/activeThreads",{email:t.state.email})}).catch(function(e){console.log("err",e),alert("Email already exists")})}},{key:"insertSignInData",value:function(e){return console.log(e.state.name,e.state.email,e.state.password),y()({method:"post",url:"https://displaythreads.herokuapp.com/api/users/register",data:{name:e.state.name,email:e.state.email,password:e.state.password}})}},{key:"render",value:function(){var e=this.state.errors;return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col s8 offset-s2"},l.a.createElement(p.a,{to:"/",className:"btn-flat waves-effect"},l.a.createElement("i",{className:"material-icons left"},"keyboard_backspace"),"Back to home"),l.a.createElement("div",{className:"col s12",style:{paddingLeft:"11.250px"}},l.a.createElement("h4",null,l.a.createElement("b",null,"Register")," below"),l.a.createElement("p",{className:"grey-text text-darken-1"},"Already have an account? ",l.a.createElement(p.a,{to:"/login"},"Log in"))),l.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("input",{onChange:this.onChange,value:this.state.name,error:e.name,id:"name",type:"text"}),l.a.createElement("label",{htmlFor:"name"},"Name")),l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("input",{onChange:this.onChange,value:this.state.email,error:e.email,id:"email",type:"email"}),l.a.createElement("label",{htmlFor:"name"},"Email")),l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("input",{onChange:this.onChange,value:this.state.password,error:e.password,id:"password",type:"password"}),l.a.createElement("label",{htmlFor:"name"},"Password")),l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("input",{onChange:this.onChange,value:this.state.password2,error:e.password2,id:"password2",type:"password"}),l.a.createElement("label",{htmlFor:"name"},"Confirm Password")),l.a.createElement("div",{className:"col s12",style:{paddingLeft:"11.250"}},l.a.createElement("button",{onClick:this.onClick,style:{width:"150px",borderRadius:"3px",letterSpacing:"1.5px",marginTop:"1rem"},type:"submit",className:"btn btn-large waves-effect waves-light hoverable blue accent-3"},"Sign Up"))))))}}]),t}(n.Component)),C=a(19),k=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).state={title:"",description:"",tags:"",date:"",messageFromServer:"",modalIsOpen:!1},e.openModal=e.openModal.bind(Object(f.a)(Object(f.a)(e))),e.closeModal=e.closeModal.bind(Object(f.a)(Object(f.a)(e))),e.insertThread=e.insertThread.bind(Object(f.a)(Object(f.a)(e))),e.onClick=e.onClick.bind(Object(f.a)(Object(f.a)(e))),e.handleTextChange=e.handleTextChange.bind(Object(f.a)(Object(f.a)(e))),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"openModal",value:function(){this.setState({modalIsOpen:!0})}},{key:"closeModal",value:function(){this.setState({modalIsOpen:!1,title:"",description:"",tags:"",date:""})}},{key:"onClick",value:function(e){this.insertThread(this),console.log("Modal on click"),console.log(this.state.title,this.state.description,this.state.tags,this.state.date)}},{key:"insertThread",value:function(e){var t=this;console.log(e.state.title,e.state.description,e.state.tags,e.state.date),y()({method:"post",url:"https://displaythreads.herokuapp.com/api/users/insert",data:{title:e.state.title,description:e.state.description,tags:e.state.tags,date:e.state.date,postedBy:localStorage.getItem("email")}}).then(function(a){console.log(a),e.setState({messageFromServer:a.data.message}),t.props.onNewThreadCreate(t.state.title,t.state.description,t.state.tags,t.state.date)}).catch(function(e){return console.log("err",e)})}},{key:"handleTextChange",value:function(e){"title"==e.target.name&&this.setState({title:e.target.value}),"description"==e.target.name&&this.setState({description:e.target.value}),"tags"==e.target.name&&this.setState({tags:e.target.value}),"date"==e.target.name&&this.setState({date:e.target.value})}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(C.Modal,{header:"Add New Thread",trigger:l.a.createElement(C.Button,{floating:!0,large:!0,className:"red",waves:"light",icon:"add",onClick:this.openModal,style:{bottom:"8%",right:"5%",position:"absolute"}}),isOpen:this.state.modalIsOpen,onRequestClose:this.closeModal,className:"Modal"},this.state.messageFromServer?l.a.createElement("div",null,this.state.messageFromServer):l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("label",{for:"title"},"Title:"),l.a.createElement("input",{type:"text",id:"title",name:"title",value:this.state.title,onChange:this.handleTextChange}),l.a.createElement("label",{for:"description"},"Description:"),l.a.createElement("input",{type:"text",id:"description",name:"description",value:this.state.description,onChange:this.handleTextChange}),l.a.createElement("label",{for:"tags"},"Tags:"),l.a.createElement("input",{type:"text",id:"tags",name:"tags",value:this.state.tags,onChange:this.handleTextChange}),l.a.createElement("label",{for:"date"},"Date:"),l.a.createElement("input",{type:"text",id:"date",name:"date",value:this.state.date,onChange:this.handleTextChange})),l.a.createElement("div",{className:"button-center"},l.a.createElement(C.Button,{waves:"light",onClick:this.onClick},"Add New Thread")))))}}]),t}(l.a.Component),N=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).handleOnThreadCreate=function(t,a,n,l){console.log("parent triggered"),console.log(t,a,n,l),e.getData(Object(f.a)(Object(f.a)(e)))},e.state={data:[]},e.getData=e.getData.bind(Object(f.a)(Object(f.a)(e))),e.onClick=e.onClick.bind(Object(f.a)(Object(f.a)(e))),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getData(this)}},{key:"onClick",value:function(){localStorage.clear(),this.props.history.push("/")}},{key:"getData",value:function(e){y.a.get("https://displaythreads.herokuapp.com/api/users/getAll").then(function(t){console.log(t),e.setState({data:t.data})})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null),l.a.createElement("th",{className:"desc-col"},"Title"),l.a.createElement("th",{className:"button-col"},"Description"),l.a.createElement("th",{className:"button-col"},"Tags"),l.a.createElement("th",{className:"button-col"},"Date"),l.a.createElement("th",{className:"button-col"},"Posted By"))),l.a.createElement("tbody",null,this.state.data.map(function(e){return l.a.createElement("tr",null,l.a.createElement("td",{className:"counterCell"}),l.a.createElement("td",{className:"desc-col"},e.title),l.a.createElement("td",{className:"button-col"},e.description),l.a.createElement("td",{className:"button-col"},e.tags),l.a.createElement("td",{className:"button-col"},e.date),l.a.createElement("td",{className:"button-col"},e.postedBy))}))),l.a.createElement(k,{onNewThreadCreate:function(t,a,n,l){return e.handleOnThreadCreate(t,a,n,l)}}),l.a.createElement("div",{className:"button-center"},l.a.createElement(C.Button,{waves:"light",onClick:this.onClick,style:{position:"absolute",top:"8%",right:"5%"}},"Log Out")))}}]),t}(l.a.Component),x=a(23),S=a(111),T=function(e){e.isAuthenticated;var t=e.component,a=Object(x.a)(e,["isAuthenticated","component"]),n=!1;return console.log(localStorage.getItem("email")),localStorage.getItem("email")&&(n=!0),l.a.createElement(h.a,Object.assign({},a,{render:function(e){return n?l.a.createElement(S.a,{to:"/activeThreads"}):l.a.createElement(t,e)}}))},D=function(e){e.isAuthenticated;var t=e.component,a=Object(x.a)(e,["isAuthenticated","component"]),n=!1;return console.log(localStorage.getItem("email")),localStorage.getItem("email")&&(n=!0),l.a.createElement(h.a,Object.assign({},a,{render:function(e){return n?l.a.createElement(t,e):l.a.createElement(S.a,{to:"/"})}}))},I=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement(u.a,null,l.a.createElement("div",{className:"App"},l.a.createElement(g,null),l.a.createElement(h.a,{exact:!0,path:"/",component:E}),l.a.createElement(T,{path:"/login",exact:!0,component:w}),l.a.createElement(T,{path:"/register",exact:!0,component:j}),l.a.createElement(D,{path:"/activeThreads",exact:!0,component:N})))}}]),t}(n.Component);r.a.render(l.a.createElement(I,null),document.getElementById("root"))},38:function(e,t,a){e.exports=a(108)},44:function(e,t,a){}},[[38,1,2]]]);
//# sourceMappingURL=main.0a01a0fe.chunk.js.map